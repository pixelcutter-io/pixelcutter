---
import DesignAnimation from "@/components/animations/DesignAnimation.astro";
import DevelopmentAnimation from "@/components/animations/DevelopmentAnimation.astro";
import MarkdownText from "@/components/typography/MarkdownText.astro";
import Typo from "@/components/typography/Typo.astro";

interface Props {
  title?: string;
  text?: string;
  items?: Array<{ title: string; text: string }>;
}

const { title, text, items = [] } = Astro.props;
---
<div class="what">
  <article>
    {title && <Typo class="title" text={title} tag="h2" weight="black" color="secondary" size={['tr', 'qt']} balancer />}
    {text && <MarkdownText class="text" text={text} color="secondary" size={['df', 'xxl']}  />}
  </article>
  {items[0] && (
    <div>
      <article>
        <Typo class="title" text={items[0].title} tag="h3" weight="black" color="secondary" size={['xxl', 'tr']} balancer />
        <MarkdownText text={items[0].text} color="secondary" size={['df', 'xxl']}  />
      </article>
      <DesignAnimation class="illustration" />
    </div>
  )}
  <div class="divider" />
  {items[1] && (
    <div>
      <DevelopmentAnimation class="illustration" />
      <article>
        <Typo class="title" text={items[1].title} tag="h3" weight="black" color="secondary" size={['xxl', 'tr']} balancer />
        <MarkdownText text={items[1].text} color="secondary" size={['df', 'xxl']}  />
      </article>
    </div>
  )}
</div>


<style lang="scss">
  .what {
  display: grid;
  grid-template-columns: 1fr;
  gap: 5vw;
  
  @include media(sm) {
    grid-template-columns: 1fr auto 1fr;
  }
}

.what article,
.what > div {
  display: flex;
  flex-direction: column;
}

.what > div:nth-child(2) {
  flex-direction: column-reverse;
  
  @include media(sm) {
    flex-direction: column;
  }
}

.what article {
  gap: var(--s-xxl);
}

.what > article {
  justify-self: center;
  gap: var(--s-xxl);
  
  @include media(sm) {
    grid-column: 1/4;
  }
}

.what > div {
  gap: var(--s-tr);
}

.what :global(.illustration) {
  width: 60%;
  align-self: center;
}

.divider {
  width: 2px;
  height: 100%;
  background-color: var(--c-accent);
}

.what > article > :global(.title) {
  @include media(sm) {
    text-align: center;
  }
}

.what > article > :global(.text) {
  @include media(sm) {
    text-align: center;
  }
}
  
  .what  :global(.title) {
    @include last-character();
  }

</style>
